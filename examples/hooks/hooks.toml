# AMCP Hooks Configuration Example
# This file should be placed at .amcp/hooks.toml in your project directory
# or ~/.config/amcp/hooks.toml for user-level hooks

# PreToolUse hooks - run before tool execution
[hooks.PreToolUse]
[[hooks.PreToolUse.handlers]]
# Validate and potentially block dangerous file writes
matcher = "write_file|apply_patch"
type = "python"
script = "./validate_file_writes.py"
timeout = 30
enabled = true

[[hooks.PreToolUse.handlers]]
# Log all tool calls to a file
matcher = "*"
type = "python"
script = "./scripts/log_tool_calls.py"
timeout = 5
enabled = true

# PostToolUse hooks - run after tool execution
[hooks.PostToolUse]
[[hooks.PostToolUse.handlers]]
# Check code quality after file writes
matcher = "write_file"
type = "command"
command = "./scripts/check_code_quality.sh"
timeout = 60
enabled = true

# SessionStart hooks - run when a new session begins
[hooks.SessionStart]
[[hooks.SessionStart.handlers]]
type = "command"
command = "echo 'AMCP Session started at $(date)' >> /tmp/amcp_sessions.log"
timeout = 5
enabled = true

# SessionEnd hooks - run when a session ends
[hooks.SessionEnd]
[[hooks.SessionEnd.handlers]]
type = "command"
command = "echo 'AMCP Session ended at $(date)' >> /tmp/amcp_sessions.log"
timeout = 5
enabled = true
